"use strict";(self.webpackChunkha4219_github_io=self.webpackChunkha4219_github_io||[]).push([[209],{5847:function(e,t,a){a.r(t),a.d(t,{PostTemplate:function(){return o},default:function(){return d}});var n=a(1151),l=a(7294);function s(e){const t=Object.assign({blockquote:"blockquote",p:"p",strong:"strong",ul:"ul",li:"li",h2:"h2",div:"div",h3:"h3",pre:"pre",code:"code",span:"span",math:"math",semantics:"semantics",mrow:"mrow",mi:"mi",mo:"mo",mfrac:"mfrac",msup:"msup",msub:"msub",msqrt:"msqrt",annotation:"annotation",svg:"svg",path:"path",ol:"ol"},(0,n.ah)(),e.components),{Callout:a}=t;return a||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Callout",!0),l.createElement(l.Fragment,null,l.createElement(t.blockquote,null,"\n",l.createElement(t.p,null,"Since our model contains ",l.createElement(t.strong,null,"no recurrence and no convolution"),", in order for ",l.createElement(t.strong,null,"the model to make use of the order of the sequence"),", we must inject some information about the relative or absolute position of the tokens in the sequence."),"\n"),"\n",l.createElement(t.blockquote,null,"\n",l.createElement(t.p,null,"RNN과 LSTM과 다르게 트랜스포머는 ",l.createElement(t.strong,null,"입력 순서가 단어 순서에 대한 정보를 보장하지 않는다.")," 다시 말하면, 트랜스포머의 경우 시퀀스가 한번에 병렬로 입력되기에 단어 순서에 대한 정보가 사라진다. 따라서 단어 위치 정보를 별도로 넣어줘야 한다."),"\n"),"\n",l.createElement(t.ul,null,"\n",l.createElement(t.li,null,"Positional Encoding, Embedding 둘 다 입력 위치에 대한 값을 추가시키기 위한 목적이기에 아래에서는 PE로 통일"),"\n"),"\n",l.createElement(t.h2,null,"문제 제기"),"\n",l.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/6441de32ad1d6d091607c7443fa528a9/f7616/Untitled.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEZElEQVR42mVUa0xbdRQ/lILuIYNRNJppsmTL1PlBo8k+mmi06DeNzm8mRhPjB10Wsw/7wHCMl4wNGRAKtLS9LZRHRZCNbAQGZlDo+zl6y3NGNhjvvrgDbu8x5w8lVm5yk3Nuz//3P79zfr8C7D0fnP8OLtZ0ws91XVB5xy+rHZ6TVQ9MySi+dX9GVjM0K6vqD8nKup2y7nmUfXXxmjz35Vdzk+cREWSydEh5tO4wXFL1ECDUDs9B9cAUi2/dn4GaoTmo6g+xb0XtowwAAM4CwCkAeA0A3kpLSzuZAkjFF35ryygxWz+60RfIr+j1KkvMVuX12z5lZV9AWd7jUpb+blNW3vHn37w78XFR28gnl9V9nxUYBj+/pOpRAsCRJFbmoaNZivMXiqCwZThP69oQ2yYlbJnYQq1rA1uDO2gKJdDg30SdO4xtoQSaeBGbnetoConYPoVoCAgzAJCWBEw/pnjp6A/lWijuHMvjfPHNzlmkwgTni0sd0yh1zqLUyu9IBv8miztmUNJ7o1L7FIpU2zKxNQUA8hTKZX844IpxSNFgWRA4b4y6SzRYFiSdO8wOa+yrUsPYIov1nqikGn0sERu9N4ZNtmUC3N/KocNZ2Tm//umGYvO4QuvaEHYpb0uMMr/DaBoCe5QnE4wqUW4JbrPxcL5YCuDbsnT5h/Uj81DR61VwvphANNomJYnzxbFjGrFzBhkwzZF+65hB1Huj+D/Kqbq5ftsHhcYhhcryRNAzyuuSyvKEdaX3RFFtX8GGsQUGpPNEUDX6GHcpR7HJupQCmPFCjiLr21/qoKhtJE/niQjUlYkXJTpIFGmTxofPkl2xV+sOU424u+XNFMAceeZzr+d//SNcbr77osaxJpAsjAFB0jjWmHxIOpwvxuZG1FuD26ixr9IlIuU6T+Qg5XP5X0BZtyO3cWxRYJrzRKTG8aesK84fZ2BN1iU0+ONIsyX6Ok9EpFqNfXUf8DQAvJsuzzgHAG98c6XmhPHhs7h5DrF9Gkl3bAGU02aNAYHFtIi9hYmUtwa39wFP7QG+BwBnvi9Vv6JxrG0STc4fJ+2RC3bn54kijYBietW2FaoRmaPc4YOU33n/UygxW3Mbx58KZDVySePYIjtMc2KUbcv7nTZYFugyNsP/UmZePnIsJ7u82wk3+gJsy6VddqwfmSdrYe3wIyzrdpIumVyKzePYZF1mefXAtFjR66VtpwCmnTh9NvNahwVKu+yKJuuSUPfX36Q75hTqpP7BPDKLWZfYBfS92blGl4qqUabVg5S//OkqFHCDBBinzjhfXGwcW0y0BrcTppCYaHauJ9S2lQT9aRgDAvk80TKxtUMS09hXQ0lABQC8eTgr+zh5umZoNo8EW2gcZp2QwKvu8XjV9GBXzK4NLOAGWdeUV/YF2AhMvPhPEvB5ADgpz8g8AwDHb94LZqttyz6dJzLJ+WK8xrHG69xhnmK9N8arbSu8zhPhjQGBV9tXeK1rI8j544907nA/Af4LOpq3gtbDaIcAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Untitled"\n        title="Untitled"\n        src="/static/6441de32ad1d6d091607c7443fa528a9/37523/Untitled.png"\n        srcset="/static/6441de32ad1d6d091607c7443fa528a9/e9ff0/Untitled.png 180w,\n/static/6441de32ad1d6d091607c7443fa528a9/f21e7/Untitled.png 360w,\n/static/6441de32ad1d6d091607c7443fa528a9/37523/Untitled.png 720w,\n/static/6441de32ad1d6d091607c7443fa528a9/f7616/Untitled.png 766w"\n        sizes="(max-width: 720px) 100vw, 720px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",l.createElement(t.p,null,"위와 같이 ",l.createElement(t.strong,null,"transformer")," 입력이 주어질 것이다. 이때 width는 embedding 차원, height은 vocab_size가 될 것이다. 처음 생각은 위와 같은 데이터가 들어온다면 각 행은 단어에 관한 정보를 담고 있고 ",l.createElement(t.strong,null,"행의 순서는 곧 단어의 순서를 의미하기 때문에 PE가 굳이 필요한가"),"라는 생각이 있었다."),"\n",l.createElement(t.h2,null,"문제 해결"),"\n",l.createElement(t.h3,null,"데이터셋"),"\n",l.createElement(t.p,null,"이에 대해 간단한 데이터셋으로 설명하겠다."),"\n",l.createElement(t.pre,null,l.createElement(t.code,{className:"language-python"},"MAX = 1000\n\ndata = []\n\nfor i in range(MAX):\n    for j in range(MAX):\n        data.apend(f'{i}+{j}' + f'={i+j}' + '\\n')\n        data.apend(f'{i}-{j}' + f'={i-j}' + '\\n')\n\nwith open('dataset/number_data.txt', 'w') as f:\n    f.writelines(data)\n")),"\n",l.createElement(t.p,null,"위 코드로 2,000,000 개의 데이터를 생성했다. 덧셈과 뺄셈식을 넣었을 때 결과를 ",l.createElement(t.strong,null,"transformer")," 모델이 학습해 이를 유추하는 모델이다. (학습 모델 및 데이터 전처리 과정 코드 생략)"),"\n",l.createElement(t.h3,null,"Attention"),"\n",l.createElement(t.p,null,l.createElement(t.span,{className:"math math-inline"},l.createElement(t.span,{className:"katex"},l.createElement(t.span,{className:"katex-mathml"},l.createElement(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},l.createElement(t.semantics,null,l.createElement(t.mrow,null,l.createElement(t.mi,null,"A"),l.createElement(t.mi,null,"t"),l.createElement(t.mi,null,"t"),l.createElement(t.mi,null,"e"),l.createElement(t.mi,null,"n"),l.createElement(t.mi,null,"t"),l.createElement(t.mi,null,"i"),l.createElement(t.mi,null,"o"),l.createElement(t.mi,null,"n"),l.createElement(t.mo,{stretchy:"false"},"("),l.createElement(t.mi,null,"Q"),l.createElement(t.mo,{separator:"true"},","),l.createElement(t.mi,null,"K"),l.createElement(t.mo,{separator:"true"},","),l.createElement(t.mi,null,"V"),l.createElement(t.mo,{stretchy:"false"},")"),l.createElement(t.mo,null,"="),l.createElement(t.mi,null,"s"),l.createElement(t.mi,null,"o"),l.createElement(t.mi,null,"f"),l.createElement(t.mi,null,"t"),l.createElement(t.mi,null,"m"),l.createElement(t.mi,null,"a"),l.createElement(t.mi,null,"x"),l.createElement(t.mrow,null,l.createElement(t.mo,{fence:"true"},"("),l.createElement(t.mfrac,null,l.createElement(t.mrow,null,l.createElement(t.mi,null,"Q"),l.createElement(t.msup,null,l.createElement(t.mi,null,"K"),l.createElement(t.mi,null,"T"))),l.createElement(t.msub,null,l.createElement(t.msqrt,null,l.createElement(t.mi,null,"d")),l.createElement(t.mi,null,"k"))),l.createElement(t.mo,{fence:"true"},")")),l.createElement(t.mi,null,"V")),l.createElement(t.annotation,{encoding:"application/x-tex"},"Attention(Q,K,V) = softmax\\left(\\frac{QK^T}{\\sqrt d_k}\\right)V")))),l.createElement(t.span,{className:"katex-html","aria-hidden":"true"},l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),l.createElement(t.span,{className:"mord mathnormal"},"A"),l.createElement(t.span,{className:"mord mathnormal"},"t"),l.createElement(t.span,{className:"mord mathnormal"},"t"),l.createElement(t.span,{className:"mord mathnormal"},"e"),l.createElement(t.span,{className:"mord mathnormal"},"n"),l.createElement(t.span,{className:"mord mathnormal"},"t"),l.createElement(t.span,{className:"mord mathnormal"},"i"),l.createElement(t.span,{className:"mord mathnormal"},"o"),l.createElement(t.span,{className:"mord mathnormal"},"n"),l.createElement(t.span,{className:"mopen"},"("),l.createElement(t.span,{className:"mord mathnormal"},"Q"),l.createElement(t.span,{className:"mpunct"},","),l.createElement(t.span,{className:"mspace",style:{marginRight:"0.16666666666666666em"}}),l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"K"),l.createElement(t.span,{className:"mpunct"},","),l.createElement(t.span,{className:"mspace",style:{marginRight:"0.16666666666666666em"}}),l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.22222em"}},"V"),l.createElement(t.span,{className:"mclose"},")"),l.createElement(t.span,{className:"mspace",style:{marginRight:"0.2777777777777778em"}}),l.createElement(t.span,{className:"mrel"},"="),l.createElement(t.span,{className:"mspace",style:{marginRight:"0.2777777777777778em"}})),l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"1.80002em",verticalAlign:"-0.65002em"}}),l.createElement(t.span,{className:"mord mathnormal"},"s"),l.createElement(t.span,{className:"mord mathnormal"},"o"),l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"}},"f"),l.createElement(t.span,{className:"mord mathnormal"},"t"),l.createElement(t.span,{className:"mord mathnormal"},"m"),l.createElement(t.span,{className:"mord mathnormal"},"a"),l.createElement(t.span,{className:"mord mathnormal"},"x"),l.createElement(t.span,{className:"mspace",style:{marginRight:"0.16666666666666666em"}}),l.createElement(t.span,{className:"minner"},l.createElement(t.span,{className:"mopen delimcenter",style:{top:"0em"}},l.createElement(t.span,{className:"delimsizing size2"},"(")),l.createElement(t.span,{className:"mord"},l.createElement(t.span,{className:"mopen nulldelimiter"}),l.createElement(t.span,{className:"mfrac"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"1.089473em"}},l.createElement(t.span,{style:{top:"-2.5335085em"}},l.createElement(t.span,{className:"pstrut",style:{height:"3em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mtight"},l.createElement(t.span,{className:"mord mtight"},l.createElement(t.span,{className:"mord sqrt mtight"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.937845em"}},l.createElement(t.span,{className:"svg-align",style:{top:"-3em"}},l.createElement(t.span,{className:"pstrut",style:{height:"3em"}}),l.createElement(t.span,{className:"mord mathnormal mtight",style:{paddingLeft:"0.833em"}},"d")),l.createElement(t.span,{style:{top:"-2.8978450000000002em"}},l.createElement(t.span,{className:"pstrut",style:{height:"3em"}}),l.createElement(t.span,{className:"hide-tail mtight",style:{minWidth:"0.853em",height:"1.08em"}},l.createElement(t.svg,{width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice"},l.createElement(t.path,{d:"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z"}))))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.102155em"}},l.createElement(t.span))))),l.createElement(t.span,{className:"msupsub"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.3224449999999999em"}},l.createElement(t.span,{style:{top:"-2.3264164285714286em",marginRight:"0.07142857142857144em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.5em"}}),l.createElement(t.span,{className:"sizing reset-size3 size1 mtight"},l.createElement(t.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03148em"}},"k")))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.17358357142857145em"}},l.createElement(t.span))))))))),l.createElement(t.span,{style:{top:"-3.23em"}},l.createElement(t.span,{className:"pstrut",style:{height:"3em"}}),l.createElement(t.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})),l.createElement(t.span,{style:{top:"-3.446108em"}},l.createElement(t.span,{className:"pstrut",style:{height:"3em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mtight"},l.createElement(t.span,{className:"mord mathnormal mtight"},"Q"),l.createElement(t.span,{className:"mord mtight"},l.createElement(t.span,{className:"mord mathnormal mtight",style:{marginRight:"0.07153em"}},"K"),l.createElement(t.span,{className:"msupsub"},l.createElement(t.span,{className:"vlist-t"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.9190928571428572em"}},l.createElement(t.span,{style:{top:"-2.931em",marginRight:"0.07142857142857144em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.5em"}}),l.createElement(t.span,{className:"sizing reset-size3 size1 mtight"},l.createElement(t.span,{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}},"T")))))))))))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.588em"}},l.createElement(t.span))))),l.createElement(t.span,{className:"mclose nulldelimiter"})),l.createElement(t.span,{className:"mclose delimcenter",style:{top:"0em"}},l.createElement(t.span,{className:"delimsizing size2"},")"))),l.createElement(t.span,{className:"mspace",style:{marginRight:"0.16666666666666666em"}}),l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.22222em"}},"V")))))),"\n",l.createElement(t.p,null,"attention이 이를 잘 관찰하는가가 문제이다. 따라서 입력 “21+211=232”에 대한 ",l.createElement(t.span,{className:"math math-inline"},l.createElement(t.span,{className:"katex"},l.createElement(t.span,{className:"katex-mathml"},l.createElement(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},l.createElement(t.semantics,null,l.createElement(t.mrow,null,l.createElement(t.mi,null,"s"),l.createElement(t.mi,null,"o"),l.createElement(t.mi,null,"f"),l.createElement(t.mi,null,"t"),l.createElement(t.mi,null,"m"),l.createElement(t.mi,null,"a"),l.createElement(t.mi,null,"x"),l.createElement(t.mrow,null,l.createElement(t.mo,{fence:"true"},"("),l.createElement(t.mfrac,null,l.createElement(t.mrow,null,l.createElement(t.mi,null,"Q"),l.createElement(t.msup,null,l.createElement(t.mi,null,"K"),l.createElement(t.mi,null,"T"))),l.createElement(t.msub,null,l.createElement(t.msqrt,null,l.createElement(t.mi,null,"d")),l.createElement(t.mi,null,"k"))),l.createElement(t.mo,{fence:"true"},")"))),l.createElement(t.annotation,{encoding:"application/x-tex"},"softmax\\left(\\frac{QK^T}{\\sqrt d_k}\\right)")))),l.createElement(t.span,{className:"katex-html","aria-hidden":"true"},l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"1.80002em",verticalAlign:"-0.65002em"}}),l.createElement(t.span,{className:"mord mathnormal"},"s"),l.createElement(t.span,{className:"mord mathnormal"},"o"),l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"}},"f"),l.createElement(t.span,{className:"mord mathnormal"},"t"),l.createElement(t.span,{className:"mord mathnormal"},"m"),l.createElement(t.span,{className:"mord mathnormal"},"a"),l.createElement(t.span,{className:"mord mathnormal"},"x"),l.createElement(t.span,{className:"mspace",style:{marginRight:"0.16666666666666666em"}}),l.createElement(t.span,{className:"minner"},l.createElement(t.span,{className:"mopen delimcenter",style:{top:"0em"}},l.createElement(t.span,{className:"delimsizing size2"},"(")),l.createElement(t.span,{className:"mord"},l.createElement(t.span,{className:"mopen nulldelimiter"}),l.createElement(t.span,{className:"mfrac"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"1.089473em"}},l.createElement(t.span,{style:{top:"-2.5335085em"}},l.createElement(t.span,{className:"pstrut",style:{height:"3em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mtight"},l.createElement(t.span,{className:"mord mtight"},l.createElement(t.span,{className:"mord sqrt mtight"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.937845em"}},l.createElement(t.span,{className:"svg-align",style:{top:"-3em"}},l.createElement(t.span,{className:"pstrut",style:{height:"3em"}}),l.createElement(t.span,{className:"mord mathnormal mtight",style:{paddingLeft:"0.833em"}},"d")),l.createElement(t.span,{style:{top:"-2.8978450000000002em"}},l.createElement(t.span,{className:"pstrut",style:{height:"3em"}}),l.createElement(t.span,{className:"hide-tail mtight",style:{minWidth:"0.853em",height:"1.08em"}},l.createElement(t.svg,{width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice"},l.createElement(t.path,{d:"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z"}))))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.102155em"}},l.createElement(t.span))))),l.createElement(t.span,{className:"msupsub"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.3224449999999999em"}},l.createElement(t.span,{style:{top:"-2.3264164285714286em",marginRight:"0.07142857142857144em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.5em"}}),l.createElement(t.span,{className:"sizing reset-size3 size1 mtight"},l.createElement(t.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03148em"}},"k")))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.17358357142857145em"}},l.createElement(t.span))))))))),l.createElement(t.span,{style:{top:"-3.23em"}},l.createElement(t.span,{className:"pstrut",style:{height:"3em"}}),l.createElement(t.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})),l.createElement(t.span,{style:{top:"-3.446108em"}},l.createElement(t.span,{className:"pstrut",style:{height:"3em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mtight"},l.createElement(t.span,{className:"mord mathnormal mtight"},"Q"),l.createElement(t.span,{className:"mord mtight"},l.createElement(t.span,{className:"mord mathnormal mtight",style:{marginRight:"0.07153em"}},"K"),l.createElement(t.span,{className:"msupsub"},l.createElement(t.span,{className:"vlist-t"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.9190928571428572em"}},l.createElement(t.span,{style:{top:"-2.931em",marginRight:"0.07142857142857144em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.5em"}}),l.createElement(t.span,{className:"sizing reset-size3 size1 mtight"},l.createElement(t.span,{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}},"T")))))))))))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.588em"}},l.createElement(t.span))))),l.createElement(t.span,{className:"mclose nulldelimiter"})),l.createElement(t.span,{className:"mclose delimcenter",style:{top:"0em"}},l.createElement(t.span,{className:"delimsizing size2"},")")))))))," 값(가중치)을 시각화해 보겠다."),"\n",l.createElement(t.ul,null,"\n",l.createElement(t.li,null,"y axis: Query, x axis: Key"),"\n"),"\n",l.createElement(t.ol,null,"\n",l.createElement(t.li,null,"PE 적용","\n",l.createElement(t.ol,null,"\n",l.createElement(t.li,null,"Multi-Head Attention in Decoder(Query: Decoder output, Key: Encoder output)\n",l.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/a9e56d9426a2cabed82a9b0f363fdc8b/fb937/Untitled-1.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 30.555555555555554%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB8UlEQVR42gHmARn+AKCPMz9QLE2ANAhUdlopSXbcvRwrdlQ+bDoBTXlBD0x8oGM2Vs2JOmRgKk2RUxZSi3QxSIr9ryxMgk45azkASnhIAEd/s4EvR9nnGGXHzRxDAGI6R5tGRFz/OkRi/0hCXP9oIDprQExn/zhcdP81TnT/TSNaw2U6Sao+RmH/OUdl/zs8X/+aXDeDa0dS/zYhZ/8/K2P/gV5GuYXaR6h0v0h1ALqNLTJRGE1oNABWX2lISWCzfCsiKzpqWDhmbWIwUmxlTgJXRqV2SVVjLl96ZCNidWxPWnXJnzw/a0BNVzUYYWI9JF9prVUoMSKqgaMgnHprAMjAHhVQGDwtLQBDKmkWLyq//yEOBJqKJRZShisYZYUtAsuOGvrFGRpfCzcyQQA8L4IgLi///wYRfz0jJTcAMCtAADUw/9QACSSAi6chdoNsAGpNSpRHQl7/ODpj/0w+W/9jSkpmKnyC+y2Hhf8shIP/JHp/sGM9RpVDRmD/OkJk/0g9XP94NzhpTTpd9zhFbP88Rmv/YExSrjtMh6I3Sn9yAHplPFxIMFq7NyRjq1NJWKxlZ04/aHpfnnOFUa9ielO4O0dqby4WZ141WXK6NWR0rDdHb6s3AFlBNDNqnDFkdrAyX3W5LzdtakUUaI1CHmdePDO4lJSDMeMAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Untitled"\n        title="Untitled"\n        src="/static/a9e56d9426a2cabed82a9b0f363fdc8b/37523/Untitled-1.png"\n        srcset="/static/a9e56d9426a2cabed82a9b0f363fdc8b/e9ff0/Untitled-1.png 180w,\n/static/a9e56d9426a2cabed82a9b0f363fdc8b/f21e7/Untitled-1.png 360w,\n/static/a9e56d9426a2cabed82a9b0f363fdc8b/37523/Untitled-1.png 720w,\n/static/a9e56d9426a2cabed82a9b0f363fdc8b/302a4/Untitled-1.png 1080w,\n/static/a9e56d9426a2cabed82a9b0f363fdc8b/07a9c/Untitled-1.png 1440w,\n/static/a9e56d9426a2cabed82a9b0f363fdc8b/fb937/Untitled-1.png 1820w"\n        sizes="(max-width: 720px) 100vw, 720px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n빨간 Box를 확인해보겠다.\n최종적으로 이는 설명하기 어렵다. 아래 다른 입력에 대해서는 설명하기 쉽게 가중치가 출력되지만 위 입력에 대해서는 이해하기 힘든 결과가 나왔다. 하지만 뒤에 나오는 결과가 의미가 있기에 이를 묵시하고 넘어간다.\n",l.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/b368157ec5ec49a3abd2221a808f8e0a/d8fc6/Untitled-2.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 30%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB8UlEQVR42gHmARn+AJ2GJDNmWEFrY1RDYmFUQmCmmCAjpoUuXFYpQ2R6Uzppf1k3OqSSIjlZUEVrXlVEY15SQl3Z1hMip4goYEsGQ2J8TDRqlGAzM9TiGXK5vxo4AKuRKZVuYEn/Z1pK/3FkSP+BUDVnW09W/2OeV/9jfVb/VWZVpKSHLKRiW0//YlxN/21hS/+ujyVminU+/1tRUP92Zkb/gWVAln3VSrhxuUZdAP//Byh7PThSayY9S4NGNkqfbSkbMStkR2PIWE1Sh1tROFlhLeb3CyxoK0NSbDFBTHxMOkfNyBgbgWs+SlZSTUxvZEVRjlcyJSCmgbQfl3ZVAE1GKQs2RDQdOEc4GjU+NRqFtBcHmJEeGDMANxtkLC0cRkEmD41nLg07PjAdPkUvGkQ1Mxn//wAHpokDGi8AKxtrJRod9ygAByR+i7ghcoBVAJyNLZRiXk//WFhR/2ZdTf+eiytng4VO/0tPX/9maVf/X2ZUo6aTLaRgW1H/YV5O/2xhTf+2miJmjXo7/1ZEUP90YkX/im47lTlNiLM3RXlcAMvUJklmS0iVVT1LiXBKRYfTyRkyl5U2gVIsVYtzXUeUdV5EUr7aHlFhRE+UY0tNi25aSYKyqx4ygW89h1ZPT4puYkaTfm46SUMYaJZDGmVGRcK96yuSYT4AAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Untitled"\n        title="Untitled"\n        src="/static/b368157ec5ec49a3abd2221a808f8e0a/37523/Untitled-2.png"\n        srcset="/static/b368157ec5ec49a3abd2221a808f8e0a/e9ff0/Untitled-2.png 180w,\n/static/b368157ec5ec49a3abd2221a808f8e0a/f21e7/Untitled-2.png 360w,\n/static/b368157ec5ec49a3abd2221a808f8e0a/37523/Untitled-2.png 720w,\n/static/b368157ec5ec49a3abd2221a808f8e0a/302a4/Untitled-2.png 1080w,\n/static/b368157ec5ec49a3abd2221a808f8e0a/07a9c/Untitled-2.png 1440w,\n/static/b368157ec5ec49a3abd2221a808f8e0a/d8fc6/Untitled-2.png 2052w"\n        sizes="(max-width: 720px) 100vw, 720px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}})),"\n",l.createElement(t.li,null,"Multi-Head Attention in Encoder(Query, Key: Encoder output)\n",l.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/811ada098f0f922f6ce2ab45904b29c1/e92cd/Untitled-3.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 35%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAACOElEQVR42h3M30sTARwA8G+QPvRQE5JQE9F+2TR0U+dtu837tbv99PbD3W03t912c7um5tJVRqRFJi0CCyEsIpIZGEXYqyVCRKD00lM9BNVDFEJF4Ps38PMHfOBmlTLbTJEJngjqa3eMLQAIqYxPMjYkJ3SJkvCZoXZDF6kyxc9MW103KlYpgi+IWnFIGpC62ZLSL2gADw34Gxo/bxjqIR523w5FZJSTQzhR5KKACIFA4lt3cAoHh5M7iLBv/IyQZlgVnayG7EDhPpQ+gadXeuXmNeR9GgLMtb7+0f7k6fuOC6C43ZWQFEM5E8XJIrsXer3D301yGT1JdS8818annZyGdj6PLK0vwcwX4Hpia4xQQGqwgG2gtHq2ilV6Vb0C+VKQ5snAvbhLqMwlB4wAK8APSeePm3N3PWKojKOw/3Fe5hJk+NG4zVOdZBJZRABrrxL1OcRFly06nwOoaX5wa7WpcvUidJ3Klmki+1ckEz/bD4652Y8I9qPapmSV/7D16ha1XgHLoCrYXIWdiD+264jnZmliGuw10lKQyPxjjo18FaC5oaO8sHxam70ERHN8gXSOIcMVse9kIYaIQB9O/8oJCnoa0rujymUwGcRQnziGnHwWe8L6IpeaB7Iuse4360h3jqIF7K20/dpLsmfqOvR2ZlXKqm4HHMo70xHd2WbbBLIluyxb5W2uMfU8slKBLm/G0s/k3/p98W2LlNUZWwkcB2KzXkL7QJ8YedMH/iZXXSZOHxqm/wNT0dTMlrh1ZgAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Untitled"\n        title="Untitled"\n        src="/static/811ada098f0f922f6ce2ab45904b29c1/37523/Untitled-3.png"\n        srcset="/static/811ada098f0f922f6ce2ab45904b29c1/e9ff0/Untitled-3.png 180w,\n/static/811ada098f0f922f6ce2ab45904b29c1/f21e7/Untitled-3.png 360w,\n/static/811ada098f0f922f6ce2ab45904b29c1/37523/Untitled-3.png 720w,\n/static/811ada098f0f922f6ce2ab45904b29c1/302a4/Untitled-3.png 1080w,\n/static/811ada098f0f922f6ce2ab45904b29c1/07a9c/Untitled-3.png 1440w,\n/static/811ada098f0f922f6ce2ab45904b29c1/e92cd/Untitled-3.png 1778w"\n        sizes="(max-width: 720px) 100vw, 720px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",l.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/b038fe16c6ae19c715fbb011f08a03f1/1132d/Untitled-4.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 52.77777777777778%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAADAUlEQVR42k2SW0zTdxiGf8Ybb7zwQqNmMU7DMkfUhFaGHDy0gwJi7Z86C5UWFEsB8UApVaFlNY0n1OESb4y6yWKMiZFsmiwjGsVlW2FCWtEyx4wmxEOlB6CCbQH7GJAtPsl79T358n3JK5hhbDRKfCLG+OQ4I2+ixMbH/xuRSCSmM0X0bZxYPMZkYoLRt1FGImN8jBiLROnz+fD2dtHV0UNXRzfPfH/ysLsbb2cfT/8ZmFo5LT/rH8Dr66THPeV58d1309/7Bx63jz5PP6ORMUTHr/9itRZz7qyMdULLBqHl5rVUajOzSRESZu3pD1cCNSVnaL25ipKleaQIHUfNCq6eTSNVFKJcXElP9xPEnUs3sGd/zbFKFbl5NWz7VE+TNgdDSRk5X5qwb2qE4SChvx/glJpoKU1nu66cvNUV1MrzsVQVosqpQZdcRt+tTkTXlesYZ0tsTqsk/Uoz2o0mjEJC4Wwi/XADjvTdEHjFkK8H17q9SLMkFN+6yHUcolxo0CiqyLp6Ep1Mz+O2O4jfrrdTKDQo0sysuHwaZUYFktAg+8bJCnsj+zMs0y+H3gxRlVZPhlCz/NRxkiwOcoWaNcpqFre2kLpqF552D+Le+Z85tbOIHx2ZFC81ULZgGz84Mjmo1rB14XZc6gaIhBkO+LFpj/DdgVR0qhKyFpRj2ZiNw6Yi6/MKCj4z8eD3h4h719rZsWgr+k1G5Edc5Mt3seMTNYp6GzJTPVblQQi/ZsTj5piqjsolBUjORjTVVmrmbcGoLie3xYVRpqe/7Tai824viln5ZGzQM995mJXLjBTN/Yov9lmYV1yLIaUOEpMQjbBvrQVpiRL5/jpWbtmDcU42ReoikqyNrF+mx/vLX4hH9wc4cdzOhe93Yl5twyy34v7JwBnzbkqTD9Bsa/2/tM32y5xvM1KvraU4qYGLdhPtraUYkg9RXXCUx74BxJQYi8fx+wMEwoOEhoO8eBkgOBQmweSHBiZmwjsGX4cIhoIMR8L4BwM8f+5n4l18pqkJ3gNppFrK/IdsjgAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Untitled"\n        title="Untitled"\n        src="/static/b038fe16c6ae19c715fbb011f08a03f1/37523/Untitled-4.png"\n        srcset="/static/b038fe16c6ae19c715fbb011f08a03f1/e9ff0/Untitled-4.png 180w,\n/static/b038fe16c6ae19c715fbb011f08a03f1/f21e7/Untitled-4.png 360w,\n/static/b038fe16c6ae19c715fbb011f08a03f1/37523/Untitled-4.png 720w,\n/static/b038fe16c6ae19c715fbb011f08a03f1/302a4/Untitled-4.png 1080w,\n/static/b038fe16c6ae19c715fbb011f08a03f1/1132d/Untitled-4.png 1158w"\n        sizes="(max-width: 720px) 100vw, 720px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n두 번째 그림은 첫 번째 그래프에서 빨간 Box를 확대시킨 것이다.\n이 또한 모든 행의 대해 설명하기는 어렵지만 대체로 이해하기 쉬운 결과를 내고 있다. 하지만 모든 Multi-Head에서 관측된 가중치 값에서 공통적인 내용이 있는데 이는 ",l.createElement(t.strong,null,"십의 자리 “1”과 일의 자리 “1”을 그리고 십의 자리 “2”와 백의 자리 “2”를 구분한다"),"는 것이다. 만약 PE가 없으면 가능할까 아래 표를 더 확인해보자."),"\n"),"\n"),"\n",l.createElement(t.li,null,"PE 미적용","\n",l.createElement(t.ol,null,"\n",l.createElement(t.li,null,"Multi-Head Attention in Decoder(Query: Decoder output, Key: Encoder output)\n",l.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/6c6867be4fe88b29acd1fe886c5ed543/fb937/Untitled-5.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 30.555555555555554%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB8UlEQVR42gHmARn+ADYATz9QLVKAXlBNdj4AVnYlAFErm3lAbIFeTnl5Y1l8SB5zVnsdS2RwNEuRh0xGi1IJUoqRG0RMLGhpay5ZaHgli3d/FBlvR9nZFWXF0BxEADgAVZtQMGD/XE5f/0AGXv87AEZrV25f/09iZv9Gf3P/PDNsw0YiWao4MWv/PTlr/z0SYv9WAESDcHdU/2NiWf9ahm7/JApyuYbVQqh1wkl1ADQhXjI+MWxoQzNsXz8iaWBCAD0iFWR5WCVoc2ISkYVlPzlkRoc7WFVROW96UzhwdWYxZnWPGUY/bnpQV2FhVWJWg2ppMQBhMSOof6MhnntrACgAQRVkHSgtjE8bKh4APCqxryIOtl8nJSsAbitQAFQt6swsGlUAPRp+KywyolYhL0IAPS9YAEARAC6DJRNGcSsHdIcwAgAYCSN8i6cid4NsADwAU5RKK2j/Ujho/zooc/9MB0RmX0VU+0xTcP9ebl//dn9LsDcATJVGK2L/Ti9e/zI0dP9PDkBpR01n9zwtbP82U3b/TV1erjxKhqI2Sn9yAD8SWVw9Lne7OzB7q0E4eqw0AEc/Q1VenktlZq9Mh2i4PUZfb0AATl46K2+6OiVtrC9EgKt/WzRBelhGnD0AWrBGCle5pJ01akYgao1BGWdebeatQTO6F9MAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Untitled"\n        title="Untitled"\n        src="/static/6c6867be4fe88b29acd1fe886c5ed543/37523/Untitled-5.png"\n        srcset="/static/6c6867be4fe88b29acd1fe886c5ed543/e9ff0/Untitled-5.png 180w,\n/static/6c6867be4fe88b29acd1fe886c5ed543/f21e7/Untitled-5.png 360w,\n/static/6c6867be4fe88b29acd1fe886c5ed543/37523/Untitled-5.png 720w,\n/static/6c6867be4fe88b29acd1fe886c5ed543/302a4/Untitled-5.png 1080w,\n/static/6c6867be4fe88b29acd1fe886c5ed543/07a9c/Untitled-5.png 1440w,\n/static/6c6867be4fe88b29acd1fe886c5ed543/fb937/Untitled-5.png 1820w"\n        sizes="(max-width: 720px) 100vw, 720px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\nPE를 적용했을 때와 마찬가지로 이 또한 해석하기 어려운 결과를 보였다."),"\n",l.createElement(t.li,null,"Multi-Head Attention in Encoder(Query, Key: Encoder output)\n",l.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/849b60ed580c1d98db05727e223ad53d/e92cd/Untitled-6.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 35%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAACQElEQVR42h3O20tTARwA4F8lBD2UK7tq6NRNt3mZa9tJ3fFs5+y4qy7npjubejyes5vbvORksLDMEs0H7bp68CFFKgjUp6IRBCGEo9fehOolTEIIfP/F+gc+PtAQMZ3g8KQYFRdv9o9X3cd5cNaH/IN2bsxQmwhgs+zEO8FrGrZIMwEyOvcsxPXjmvaUvG6oo6vMNt5+3iOB91Ep7sGVvR1ZGXR2iw/MTBZJawb7giN+RARzS+oHy6aRIKZ+I8CxXMo05NBLSDWMYjbSlQP4AK1n+O0gGUGbPIIAUXn+l/rlqy+aNAT57qVOfRJZbRjTS67/IN2U+snYsmjsyBwUwa15w3CPhkNrOY9Pp5gXANvQLuO3e8gxZKvjqAWz3L6b2GA2xQy0u4ZpwdS1Yq/sXbLOxdTf8Ba46gcmeJZ7SFSPTqMOjm8EAjRHRVa9ZGx93idE8A+UaIxxn/Gs8Pi6Ulroh0slV3MLbyqW796E7LRnylwZPXQ2iPtrWw57ceio4T/5TOFDS6mwayA34ZpCZHu14oGvKXxkUqdmDcpFaG1MPnfVRf+aVcnvbSWOyw2Ty+vqyL00LN5mVpxlg+itDmK+YAoUQZdC2O+jJGRk4SNKkYPGqtANd0sM3boEEqrRJzbVHBjVUt6vCKGlSsQK34CcJu5sksbMDGRSnhG6NlxwakZ2VjecHUWQUUprrHmiQF+Q3rr734O+hicsuunPFiJbaNOOx1hqAQzWyVnqtPiVVMY/Xny9XN55cpCjz/HUP/5M2v3i152mAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Untitled"\n        title="Untitled"\n        src="/static/849b60ed580c1d98db05727e223ad53d/37523/Untitled-6.png"\n        srcset="/static/849b60ed580c1d98db05727e223ad53d/e9ff0/Untitled-6.png 180w,\n/static/849b60ed580c1d98db05727e223ad53d/f21e7/Untitled-6.png 360w,\n/static/849b60ed580c1d98db05727e223ad53d/37523/Untitled-6.png 720w,\n/static/849b60ed580c1d98db05727e223ad53d/302a4/Untitled-6.png 1080w,\n/static/849b60ed580c1d98db05727e223ad53d/07a9c/Untitled-6.png 1440w,\n/static/849b60ed580c1d98db05727e223ad53d/e92cd/Untitled-6.png 1778w"\n        sizes="(max-width: 720px) 100vw, 720px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",l.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/fc53c71ebf1faaf363db6c6bf3d2efcc/e6c84/Untitled-7.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 53.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAADHklEQVR42j2TXUxbdQDFL/i0ZUYh2QPO+GTCFpkiVCB0pEyLc0IZhbZ0UModLWWCZh26oAynQZf58aIumkyUbIIxfmwpMGWb2RdhW1w76i5qIOo2J9NZ2lssbenl4/8zTPQkJzkn5/X8JFaUSs6ymEoitNT/mUVNrMyKEEJbDkJoQkvGWdJSzKeSzKcSLPf/JKnRJIMDCr6Tfo6OjnHsYhDfqQDHRoN8dWZMnDoxiTa/oADaxZFfGRwKiMHzAXzfBRk6HWDw7BV8o1fwDQS5eS2M9Mvlb+lwW7DkPINpkxeToZ2anFZMhV7MBo94r9vJQlRVNIH29sGXKM1tErqHXyS3bC+FG5+nIPcF8oo6qa6zM3JpGCk0fgTl+EZa7q6kZXUNO++14VmzDVe6hc7sMjH7WxHcvqlM+X/Q1KltdJfqhV2y4cqw07imBnmVGUdaLed7slmK9SFd/+kC7z9bwePr2yjOfw7DhjY2Z7dRqNvFlpIdYujdOuLTt5Ww/7LmP+Rhj94qbPmtOB5rpjGnGUeBB2txKx+5jUQuHUVShofYZbRjK+ugsr4Li6kLm7GDCuc+TNbdYn9tI6mZqBKNJ7QD7e088WiLKKh6jaKqbgzFL1No2kde/etUllk59/VxpFvf93Pus3xcGdW4MrfjynLgyqhBXr2d9ofKxY2rJRC6pfwenNCuTZjZazAI2111NGY14MioxXmPlbpVDnwHc/hb/RQppp5h4ptH2Jpu5kmpmqeWnWZms2RhxwNGIcIG5kJTytTYpEbUTqdeL0olG6Z0M+Vp1VSkmzFKVvw962HmE6Qb1y/wwStb0GfK6O5zobvfRXGmTN5aN8YNdjH8RS3J6T+VyNVxLTDgpk1XLraulTE92EBVloOqdQ6eXifzobeEyPiXSD9P/oFb/phmby/OA300vNlP8+5e5P191HceEXu8n5NIzCmwpL3VPYC76ZBoefUw8jv97OzoxdN1GNcbfTibehg5/SPSv/9eIBL+i5gaZjYaQQ2HiKkRErGogKUVUrhDSjw+I9TwNLNRlagaZkYNo06HWFycu0PKPyRoWV2sXi/ZAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Untitled"\n        title="Untitled"\n        src="/static/fc53c71ebf1faaf363db6c6bf3d2efcc/37523/Untitled-7.png"\n        srcset="/static/fc53c71ebf1faaf363db6c6bf3d2efcc/e9ff0/Untitled-7.png 180w,\n/static/fc53c71ebf1faaf363db6c6bf3d2efcc/f21e7/Untitled-7.png 360w,\n/static/fc53c71ebf1faaf363db6c6bf3d2efcc/37523/Untitled-7.png 720w,\n/static/fc53c71ebf1faaf363db6c6bf3d2efcc/302a4/Untitled-7.png 1080w,\n/static/fc53c71ebf1faaf363db6c6bf3d2efcc/e6c84/Untitled-7.png 1148w"\n        sizes="(max-width: 720px) 100vw, 720px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n위 또한 설명하기 어려운 결과를 갖고 있지만 8개의 Multi-Head에서 보이는 공통적인 특징은 ",l.createElement(t.strong,null,"십의 자리 “1”과 일의 자리 “1”을 그리고 십의 자리 “2”와 백의 자리 “2”를 구분하지 못하고 갖은 가중치를 갖는다.")," 그러면 왜 구분하지 못할까?"),"\n"),"\n"),"\n"),"\n",l.createElement(a,null,l.createElement(t.p,null,"💡 위 내용을 요약하면 ",l.createElement(t.strong,null,"PE"),"를 제거한 Encoder 부분의 Self Attention에서 같은 문자열이 들어오면 ",l.createElement(t.strong,null,"자리수를 구분하지 못하고 같은 가중치를 뽑아낸다"),"는 문제가 있다.")),"\n",l.createElement(t.h3,null,"행렬 계산"),"\n",l.createElement(t.p,null,"이는 ",l.createElement(t.span,{className:"math math-inline"},l.createElement(t.span,{className:"katex"},l.createElement(t.span,{className:"katex-mathml"},l.createElement(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},l.createElement(t.semantics,null,l.createElement(t.mrow,null,l.createElement(t.mi,null,"s"),l.createElement(t.mi,null,"o"),l.createElement(t.mi,null,"f"),l.createElement(t.mi,null,"t"),l.createElement(t.mi,null,"m"),l.createElement(t.mi,null,"a"),l.createElement(t.mi,null,"x"),l.createElement(t.mrow,null,l.createElement(t.mo,{fence:"true"},"("),l.createElement(t.mfrac,null,l.createElement(t.mrow,null,l.createElement(t.mi,null,"Q"),l.createElement(t.msup,null,l.createElement(t.mi,null,"K"),l.createElement(t.mi,null,"T"))),l.createElement(t.msub,null,l.createElement(t.msqrt,null,l.createElement(t.mi,null,"d")),l.createElement(t.mi,null,"k"))),l.createElement(t.mo,{fence:"true"},")"))),l.createElement(t.annotation,{encoding:"application/x-tex"},"softmax\\left(\\frac{QK^T}{\\sqrt d_k}\\right)")))),l.createElement(t.span,{className:"katex-html","aria-hidden":"true"},l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"1.80002em",verticalAlign:"-0.65002em"}}),l.createElement(t.span,{className:"mord mathnormal"},"s"),l.createElement(t.span,{className:"mord mathnormal"},"o"),l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"}},"f"),l.createElement(t.span,{className:"mord mathnormal"},"t"),l.createElement(t.span,{className:"mord mathnormal"},"m"),l.createElement(t.span,{className:"mord mathnormal"},"a"),l.createElement(t.span,{className:"mord mathnormal"},"x"),l.createElement(t.span,{className:"mspace",style:{marginRight:"0.16666666666666666em"}}),l.createElement(t.span,{className:"minner"},l.createElement(t.span,{className:"mopen delimcenter",style:{top:"0em"}},l.createElement(t.span,{className:"delimsizing size2"},"(")),l.createElement(t.span,{className:"mord"},l.createElement(t.span,{className:"mopen nulldelimiter"}),l.createElement(t.span,{className:"mfrac"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"1.089473em"}},l.createElement(t.span,{style:{top:"-2.5335085em"}},l.createElement(t.span,{className:"pstrut",style:{height:"3em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mtight"},l.createElement(t.span,{className:"mord mtight"},l.createElement(t.span,{className:"mord sqrt mtight"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.937845em"}},l.createElement(t.span,{className:"svg-align",style:{top:"-3em"}},l.createElement(t.span,{className:"pstrut",style:{height:"3em"}}),l.createElement(t.span,{className:"mord mathnormal mtight",style:{paddingLeft:"0.833em"}},"d")),l.createElement(t.span,{style:{top:"-2.8978450000000002em"}},l.createElement(t.span,{className:"pstrut",style:{height:"3em"}}),l.createElement(t.span,{className:"hide-tail mtight",style:{minWidth:"0.853em",height:"1.08em"}},l.createElement(t.svg,{width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice"},l.createElement(t.path,{d:"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z"}))))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.102155em"}},l.createElement(t.span))))),l.createElement(t.span,{className:"msupsub"},l.createElement(t.span,{className:"vlist-t vlist-t2"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.3224449999999999em"}},l.createElement(t.span,{style:{top:"-2.3264164285714286em",marginRight:"0.07142857142857144em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.5em"}}),l.createElement(t.span,{className:"sizing reset-size3 size1 mtight"},l.createElement(t.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03148em"}},"k")))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.17358357142857145em"}},l.createElement(t.span))))))))),l.createElement(t.span,{style:{top:"-3.23em"}},l.createElement(t.span,{className:"pstrut",style:{height:"3em"}}),l.createElement(t.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})),l.createElement(t.span,{style:{top:"-3.446108em"}},l.createElement(t.span,{className:"pstrut",style:{height:"3em"}}),l.createElement(t.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(t.span,{className:"mord mtight"},l.createElement(t.span,{className:"mord mathnormal mtight"},"Q"),l.createElement(t.span,{className:"mord mtight"},l.createElement(t.span,{className:"mord mathnormal mtight",style:{marginRight:"0.07153em"}},"K"),l.createElement(t.span,{className:"msupsub"},l.createElement(t.span,{className:"vlist-t"},l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.9190928571428572em"}},l.createElement(t.span,{style:{top:"-2.931em",marginRight:"0.07142857142857144em"}},l.createElement(t.span,{className:"pstrut",style:{height:"2.5em"}}),l.createElement(t.span,{className:"sizing reset-size3 size1 mtight"},l.createElement(t.span,{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}},"T")))))))))))),l.createElement(t.span,{className:"vlist-s"},"​")),l.createElement(t.span,{className:"vlist-r"},l.createElement(t.span,{className:"vlist",style:{height:"0.588em"}},l.createElement(t.span))))),l.createElement(t.span,{className:"mclose nulldelimiter"})),l.createElement(t.span,{className:"mclose delimcenter",style:{top:"0em"}},l.createElement(t.span,{className:"delimsizing size2"},")"))))))),"를 계산하는 과정에서 이해할 수 있다."),"\n",l.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/108de3092a93b9e481e4f73d1f1c0857/bb051/Untitled-8.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 72.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAAECUlEQVR42k1Te0zbVRT+KAXG3HCZDLdFM7K5DRb8Y4k6QsaCc9OBLvM1nWxOzcQQ0cXJpiVzwba/PmhLlTHCNpa4B+DWFhTl4YBSiqOIPEp5lBYE2pLRBwiUvcyIOeb+APUmN7n3fud855x7vgNpn8om7VOTzK4Jyuz5JLYq6zZpt8JW5EDHxd49Lp2PXDpv0KXz0uj1221vPf+OkIhANkL7eesHbr2fxm4s4RO1kNnznbIBDckd2nmFU0vSPlUjgFXMqf/K8J5xQ4A8+sC8Rx8gt85nTUrYGZH99pdhDDcVWLJuV0yRR+9fwo3gBjR2jifMfyB3aIkbUP8CYAsAgaPUtduj95Nb73/AMhk3BNqjH42OjloeFU8jhLbiroxxwySPMzuXzlfPCN0LhFp+i215rXFlT2PsOy+6LvWnssjM2LNQ2uBLz6WGu3U+AU0wwu4snlDnowVC7y3kdsrTcjvl6WKr8qDYqjx8pp1LaaMxeMtmYCnuetxZ6joyVOY+6Cxzpw+Ve/a+knQghJV7r/5vtBZ1bBwuH08fvT7xxlCZ+/DgtdEUHNK+CwCrAax5vyQDalchkh/uhfOiC7O1f6GSq2b4dgAxfZeHsLTsV0dgKmiFo3SMXTcDEJacugy4aCo0/oWEdZsSNz85TrPCE3Wi8FQqwt3qWtRoVQLqsEQkJmyLjV23Niluw4an+OhRUXyWc003Bb9dOh/5RMyaXQd27VxLRALkjRTgRK0Ix6tO8tmJrUpsrcuGr+qrEEdlDu5bVKguyABZC0C2s4iLjQEvG2rAoEGEqSYOwz+exsRNMYItCkDckycS9ygLJb0qNdevLsztkmcmkR7TNbmwG0RbJo3cOX+DRD1l5M4GGqWf70uKCzVdyAqh/nOMcMeUkSsMNEpVk0Zpkb9BmgmZXeP9t8tOLUlseb+/TjOgzm/wR9XptKBZQbNmOb+nTbKR44eShaxsoh5Yy09+Nver8j+8WdbOZNO7qMO7ckc+cQMa1oVt7JO99ZKUReM7M81yCrYoLNGrHoleuTwigagD3eXZH821KGimWX5nMWAdy9CzSEj8pPSqWgFEENkw+vOZfcEFBz6DmWb5YPL2jRHv7X82nOZ/wIBB9PFci3IR5+1aIbHlXeEG1GaFU1vD9astX3crNLFFR+HSizBYkfPMVBPXdq8176egWdHsb5BcOPbqjlC+5PsG9N449fKfJtmtoFlRM22SWQKNUg2OFh9j+Eqmw8zvP8U1MiBqdzyM32aAHlbCXPIJFkfxsauSdPx/OSpy4KuXsOMy1vnx2twFYFlU5PqwyHDmhNQv9guO8LIw48PXEkPYW2REWHyYMPTFFZHh69ldGCrg/TLfTOLxMKEgLWb1CjYc+Ae4CXznj/5CIwAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Untitled"\n        title="Untitled"\n        src="/static/108de3092a93b9e481e4f73d1f1c0857/37523/Untitled-8.png"\n        srcset="/static/108de3092a93b9e481e4f73d1f1c0857/e9ff0/Untitled-8.png 180w,\n/static/108de3092a93b9e481e4f73d1f1c0857/f21e7/Untitled-8.png 360w,\n/static/108de3092a93b9e481e4f73d1f1c0857/37523/Untitled-8.png 720w,\n/static/108de3092a93b9e481e4f73d1f1c0857/302a4/Untitled-8.png 1080w,\n/static/108de3092a93b9e481e4f73d1f1c0857/bb051/Untitled-8.png 1212w"\n        sizes="(max-width: 720px) 100vw, 720px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",l.createElement(t.p,null,"먼저 ",l.createElement(t.strong,null,"Query, Key, Value"),"는 입력 ",l.createElement(t.span,{className:"math math-inline"},l.createElement(t.span,{className:"katex"},l.createElement(t.span,{className:"katex-mathml"},l.createElement(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},l.createElement(t.semantics,null,l.createElement(t.mrow,null,l.createElement(t.mi,null,"x")),l.createElement(t.annotation,{encoding:"application/x-tex"},"x")))),l.createElement(t.span,{className:"katex-html","aria-hidden":"true"},l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"0.43056em",verticalAlign:"0em"}}),l.createElement(t.span,{className:"mord mathnormal"},"x"))))),"에 대해 가중치 ",l.createElement(t.strong,null,"W"),"를 이용해 생성된다. 처음 Encoder에서 생각해보면 ",l.createElement(t.span,{className:"math math-inline"},l.createElement(t.span,{className:"katex"},l.createElement(t.span,{className:"katex-mathml"},l.createElement(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},l.createElement(t.semantics,null,l.createElement(t.mrow,null,l.createElement(t.mi,null,"x")),l.createElement(t.annotation,{encoding:"application/x-tex"},"x")))),l.createElement(t.span,{className:"katex-html","aria-hidden":"true"},l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"0.43056em",verticalAlign:"0em"}}),l.createElement(t.span,{className:"mord mathnormal"},"x"))))),"의 각 행은 단어를 의미할 것이고 행렬곱 연산을 적용한 후 나온 matrix의 각 행도 ",l.createElement(t.span,{className:"math math-inline"},l.createElement(t.span,{className:"katex"},l.createElement(t.span,{className:"katex-mathml"},l.createElement(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},l.createElement(t.semantics,null,l.createElement(t.mrow,null,l.createElement(t.mi,null,"x")),l.createElement(t.annotation,{encoding:"application/x-tex"},"x")))),l.createElement(t.span,{className:"katex-html","aria-hidden":"true"},l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"0.43056em",verticalAlign:"0em"}}),l.createElement(t.span,{className:"mord mathnormal"},"x"))))),"의 행 값에 영향이 많을 것이다. 입력이 **“12+1”**이라면 행렬곱으로 생성된 ",l.createElement(t.span,{className:"math math-inline"},l.createElement(t.span,{className:"katex"},l.createElement(t.span,{className:"katex-mathml"},l.createElement(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},l.createElement(t.semantics,null,l.createElement(t.mrow,null,l.createElement(t.mi,null,"Q"),l.createElement(t.mi,null,"u"),l.createElement(t.mi,null,"e"),l.createElement(t.mi,null,"r"),l.createElement(t.mi,null,"y"),l.createElement(t.mo,{separator:"true"},","),l.createElement(t.mi,null,"K"),l.createElement(t.mi,null,"e"),l.createElement(t.mi,null,"y")),l.createElement(t.annotation,{encoding:"application/x-tex"},"Query, Key")))),l.createElement(t.span,{className:"katex-html","aria-hidden":"true"},l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"0.8777699999999999em",verticalAlign:"-0.19444em"}}),l.createElement(t.span,{className:"mord mathnormal"},"Q"),l.createElement(t.span,{className:"mord mathnormal"},"u"),l.createElement(t.span,{className:"mord mathnormal"},"e"),l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"}},"r"),l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"y"),l.createElement(t.span,{className:"mpunct"},","),l.createElement(t.span,{className:"mspace",style:{marginRight:"0.16666666666666666em"}}),l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"K"),l.createElement(t.span,{className:"mord mathnormal"},"e"),l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"y"))))),"를 위와 같다고 생각할 수 있다."),"\n",l.createElement(t.p,null,l.createElement(t.span,{className:"math math-inline"},l.createElement(t.span,{className:"katex"},l.createElement(t.span,{className:"katex-mathml"},l.createElement(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},l.createElement(t.semantics,null,l.createElement(t.mrow,null,l.createElement(t.mi,null,"X")),l.createElement(t.annotation,{encoding:"application/x-tex"},"X")))),l.createElement(t.span,{className:"katex-html","aria-hidden":"true"},l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"))))),"의 십의 자리 “1”과 일의 자리 “1”은 같은 값을 갖을 것이다.(Word Embedding의 결과) 따라서 각각의 ",l.createElement(t.span,{className:"math math-inline"},l.createElement(t.span,{className:"katex"},l.createElement(t.span,{className:"katex-mathml"},l.createElement(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},l.createElement(t.semantics,null,l.createElement(t.mrow,null,l.createElement(t.mi,null,"Q"),l.createElement(t.mi,null,"u"),l.createElement(t.mi,null,"e"),l.createElement(t.mi,null,"r"),l.createElement(t.mi,null,"y"),l.createElement(t.mo,{separator:"true"},","),l.createElement(t.mi,null,"K"),l.createElement(t.mi,null,"e"),l.createElement(t.mi,null,"y")),l.createElement(t.annotation,{encoding:"application/x-tex"},"Query, Key")))),l.createElement(t.span,{className:"katex-html","aria-hidden":"true"},l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"0.8777699999999999em",verticalAlign:"-0.19444em"}}),l.createElement(t.span,{className:"mord mathnormal"},"Q"),l.createElement(t.span,{className:"mord mathnormal"},"u"),l.createElement(t.span,{className:"mord mathnormal"},"e"),l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"}},"r"),l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"y"),l.createElement(t.span,{className:"mpunct"},","),l.createElement(t.span,{className:"mspace",style:{marginRight:"0.16666666666666666em"}}),l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"K"),l.createElement(t.span,{className:"mord mathnormal"},"e"),l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"y")))))," 행렬에서 십의 자리 “1”과 일의 자리 “1”은 같은 값을 갖을 것이다."),"\n",l.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/b4abb6602b878935693a4b0e79c50a75/86a1e/Untitled-9.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 35.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAACLElEQVR42mP4tusf46HJJ3gOTDzGc3jKSd6Dk46zMzAwMMyvLWIoi3fijfMxFS2LcxIojXMUnFoRzAySSzPXYPCWFWOYYa3HWa6nIl6upyK6wM5QsMNUU4BhRf063SdrXt++t+LpvUerX727vexR68HJuxn+X9rO8XJ30443+1ruv97bcv313pa7j7fVW6zsiGP4P6eQ5f/uSQzPo9wa3sZ6vH0b63HnY5zni9cx7nsZ5pQtsny+/t3fByuf/3+y9vX/x2teTWNgYGCP9rCX+Xy44+anwx3/Yfj+5lp3BgYG7tVJ7pz///9neBHtPu1DnOf/D3Ge/z7He/0HGcywvH6t6bN17/7dX/n8/+M1cAM54r0dpT8dar/x8WD7/w8H2/9/PNQOMtANJLc22YPz/7ImhpfR7lPfx3n+B2G4gSsa1uk9Wfvm3oNVz+8/Wfvm/e1lD9v3TdzO8P/aLo53+1sPfjrc8fLLkc57Hw+1P3+xq8l6TVcCw/+5Raz/F9eDvNz0Ntbjw/tYz7uf4rxevY5xP8BQFVPHWBvfxGWtYyvmauIusrBqGQso4PVVFRnL4p04imMdufVUpaTC3Qz4JpcFMYHkwgyUGZLU5BhqDNTY2k01uaOUpflztBR52001ORi0FXQYQOHBwMBgycDAIKYkpcwgwi/CyMDAwKggKQgSt2dgYNBxNFFh2NiXzBDspMfQ7WvJUGeoxnAmwI4hSlkapEaWgYGBORrIBgDA4/2CE7mc5QAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Untitled"\n        title="Untitled"\n        src="/static/b4abb6602b878935693a4b0e79c50a75/37523/Untitled-9.png"\n        srcset="/static/b4abb6602b878935693a4b0e79c50a75/e9ff0/Untitled-9.png 180w,\n/static/b4abb6602b878935693a4b0e79c50a75/f21e7/Untitled-9.png 360w,\n/static/b4abb6602b878935693a4b0e79c50a75/37523/Untitled-9.png 720w,\n/static/b4abb6602b878935693a4b0e79c50a75/302a4/Untitled-9.png 1080w,\n/static/b4abb6602b878935693a4b0e79c50a75/86a1e/Untitled-9.png 1296w"\n        sizes="(max-width: 720px) 100vw, 720px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",l.createElement(t.div,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/ab1129d622d82db4fe47cf6c9daf9c91/b5a09/Untitled-10.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 33.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAB0ElEQVR42mNgQAL/K+MYFtkbwrhM////ZwDjxfUM/7f1wdU5SoowqPPzMGRrKbB5yogJesiI8RfpKHNFKktzIwyrimf8XxjBcMTXRutNjMeGZ1Fu619Eu695HuW2/VGEq8XTKDeG/5OLGUFqb4Q4Mf9f08bwPMqt4m2sx+M3MR6XP8R53nsd474TJA9W9H9lC+P/Fc0MOz0s3L8leP9/H+v5/0Oc5//3cZ7/X0S7h90Jc2YIUpDkArkcrP7/f4YX0e6TQWpA+HO81/+3sR6PQHLGDAwM+vysLMr/65IYjvra2H+J9/r3Ltbj9/tYz5/vYsEGBjIwMHAIsbPqMjAwKGgL8or8X9cOMnACyML3sZ5/oAbeAxnIBlLsISPG/r86geGIj7UDVPLfu1jPP+9iPf4/j3IL+l+byGAkzC/AwMDAU2uoxvZ/YR3Di2i3tnexHn/fx3q+/BTv9e1NjMd5BpRIyQhk2OtlyfcowtXuWZSb9ZNIV+t74c4ON0KdhFc5maCo3epuzrDa2YR7m7u56AxrPfHljsbim93MBVENLI9leBvrwbDexRTEBYUX9zJHI4b/BeGgsEVRO91aj+GAtxXDYR9rEFedgYGBpcVYgwEAF8q5MVdrUtkAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Untitled"\n        title="Untitled"\n        src="/static/ab1129d622d82db4fe47cf6c9daf9c91/37523/Untitled-10.png"\n        srcset="/static/ab1129d622d82db4fe47cf6c9daf9c91/e9ff0/Untitled-10.png 180w,\n/static/ab1129d622d82db4fe47cf6c9daf9c91/f21e7/Untitled-10.png 360w,\n/static/ab1129d622d82db4fe47cf6c9daf9c91/37523/Untitled-10.png 720w,\n/static/ab1129d622d82db4fe47cf6c9daf9c91/302a4/Untitled-10.png 1080w,\n/static/ab1129d622d82db4fe47cf6c9daf9c91/b5a09/Untitled-10.png 1360w"\n        sizes="(max-width: 720px) 100vw, 720px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",l.createElement(t.p,null,"이후 ",l.createElement(t.span,{className:"math math-inline"},l.createElement(t.span,{className:"katex"},l.createElement(t.span,{className:"katex-mathml"},l.createElement(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},l.createElement(t.semantics,null,l.createElement(t.mrow,null,l.createElement(t.mi,null,"e"),l.createElement(t.mi,null,"n"),l.createElement(t.mi,null,"e"),l.createElement(t.mi,null,"r"),l.createElement(t.mi,null,"g"),l.createElement(t.mi,null,"y")),l.createElement(t.annotation,{encoding:"application/x-tex"},"energy")))),l.createElement(t.span,{className:"katex-html","aria-hidden":"true"},l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.19444em"}}),l.createElement(t.span,{className:"mord mathnormal"},"e"),l.createElement(t.span,{className:"mord mathnormal"},"n"),l.createElement(t.span,{className:"mord mathnormal"},"e"),l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"}},"r"),l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"g"),l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"y"))))),"값을 구해도 십의 자리 “1”과 일의 자리 “1” 두 행의 값은 동일하다라는 것을 생각할 수 있고 이후 연산도 동일하다."),"\n",l.createElement(t.p,null,"결론적으로 나온 가중치 값은 Attention mechanism에서 매우 중요한 ",l.createElement(t.span,{className:"math math-inline"},l.createElement(t.span,{className:"katex"},l.createElement(t.span,{className:"katex-mathml"},l.createElement(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},l.createElement(t.semantics,null,l.createElement(t.mrow,null,l.createElement(t.mi,null,"V"),l.createElement(t.mi,null,"a"),l.createElement(t.mi,null,"l"),l.createElement(t.mi,null,"u"),l.createElement(t.mi,null,"e")),l.createElement(t.annotation,{encoding:"application/x-tex"},"Value")))),l.createElement(t.span,{className:"katex-html","aria-hidden":"true"},l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"0.69444em",verticalAlign:"0em"}}),l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.22222em"}},"V"),l.createElement(t.span,{className:"mord mathnormal"},"a"),l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"}},"l"),l.createElement(t.span,{className:"mord mathnormal"},"u"),l.createElement(t.span,{className:"mord mathnormal"},"e"))))),"에 대해 어떤 단어를 집중할지를 보여줄 텐데 가중치 ",l.createElement(t.span,{className:"math math-inline"},l.createElement(t.span,{className:"katex"},l.createElement(t.span,{className:"katex-mathml"},l.createElement(t.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},l.createElement(t.semantics,null,l.createElement(t.mrow,null,l.createElement(t.mi,null,"α")),l.createElement(t.annotation,{encoding:"application/x-tex"},"\\alpha")))),l.createElement(t.span,{className:"katex-html","aria-hidden":"true"},l.createElement(t.span,{className:"base"},l.createElement(t.span,{className:"strut",style:{height:"0.43056em",verticalAlign:"0em"}}),l.createElement(t.span,{className:"mord mathnormal",style:{marginRight:"0.0037em"}},"α"))))),"에서 이미 이 두 개의 정보를 구분할 수 없기에 이후 나오는 output은 이에 대해 모호한 결과로 나올 것이다. ",l.createElement(t.strong,null,"따라서 위치 정보가 없다면 학습하는 데 영향을 줄 수 있다.")),"\n",l.createElement(t.p,null,"위 데이터셋은 덧셈과 뺄셈에 관한 데이터셋이지만 이를 확장시켜 문장 번역 task에서도 한 문장안에 똑같은 단어가 주어졌을 때 이를 구분할 수 없을 것이다."))}var m=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,n.ah)(),e.components);return t?l.createElement(t,e,l.createElement(s,e)):s(e)};var c=a(2968),r=a(3653),i=a(2356),p=a(3147);const o=e=>{var t;let{data:a,children:s,pageContext:m}=e;const{0:o,1:d}=(0,l.useState)(null),{siteUrl:g}=a.site.siteMetadata,E=m.fields__slug;return(0,l.useEffect)((()=>{if(!g||!E)return;const e=g.replace(/(^\w+:|^)\/\//,""),t=E.replace(/\//g,"");fetch("https://api.countapi.xyz/hit/"+e+"/"+t).then((e=>e.json())).then((e=>{let{value:t}=e;return d(t)})).catch((()=>d(0)))}),[g,E]),l.createElement(c.Z,null,l.createElement("div",{className:"mx-auto max-w-3xl"},l.createElement(i.Z,{title:a.mdx.frontmatter.title,view:o,author:a.mdx.frontmatter.author,date:a.mdx.frontmatter.date,minutes:a.mdx.fields.timeToRead.minutes}),l.createElement(n.Zo,{components:r.Z},s),l.createElement("div",{className:"flex flex-wrap break-words py-4"},null===(t=a.mdx.frontmatter.tags)||void 0===t?void 0:t.map((e=>l.createElement("span",{key:e,className:"my-1 mr-2 inline-block rounded-xl bg-gray-200 p-2 px-3 text-sm"},e)))),l.createElement(p.Z,null)))};function d(e){return l.createElement(o,e,l.createElement(m,e))}}}]);
//# sourceMappingURL=component---src-pages-mdx-fields-slug-tsx-content-file-path-home-runner-work-ha-4219-github-io-ha-4219-github-io-contents-posts-2022-10-01-positional-embedding-mdx-155c59431fd607e0c489.js.map